(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{40:function(e,n,t){e.exports=t(54)},45:function(e,n,t){},46:function(e,n,t){},54:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),o=t(33),l=t.n(o),u=(t(45),t(46),t(38)),s=t(5),c=t(55),i=t(18),m=t(17);function p(){var e=Object(i.a)(["\n\nmutation($username: String!, $email: String!, $password: String!) {\n    signUp(username:$username,email:$email, password:$password){\n      token\n    }\n  }\n\n"]);return p=function(){return e},e}function d(){var e=Object(i.a)(["\n\nmutation($username: String!,$password:String!) {\n  signIn(username:$username, password: $password){\n    token\n  }\n}\n\n"]);return d=function(){return e},e}function g(){var e=Object(i.a)(["\n\nquery {\n  getCurrentUser {\n    username\n  }\n}\n"]);return g=function(){return e},e}function f(){var e=Object(i.a)(["\n\nquery{\n    getAllRecipes {\n        name\n        description\n        category\n        likes\n        instructions\n        createDate\n        \n    }\n}\n"]);return f=function(){return e},e}var h=Object(m.b)(f()),v=Object(m.b)(g()),E=Object(m.b)(d()),b=Object(m.b)(p()),w=function(){return r.a.createElement("div",null,r.a.createElement(c.b,{query:h},(function(e){var n=e.data,t=e.loading,a=e.error;return t?r.a.createElement("h1",null,"Loading"):a?r.a.createElement("h1",null,"Error"):(console.log(n),r.a.createElement("p",null,"Recipes"))})),r.a.createElement(c.b,{query:v},(function(e){var n=e.data,t=e.loading,a=e.error;if(t)return r.a.createElement("h1",null,"User Loading");if(a)return r.a.createElement("h1",null,"User Error");var o=n.getCurrentUser;return r.a.createElement("p",null,"Username: ",null===o||void 0===o?void 0:o.username)})))},C=t(19),y=t(20),S=t(21),j=t(23),k=t(22),O=function(e){Object(j.a)(t,e);var n=Object(k.a)(t);function t(){var e;Object(y.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).state={username:"",email:"",password:"",rePassword:""},e.formChange=function(n){var t=n.target;e.setState(Object(C.a)({},t.name,t.value))},e.formSubmit=function(e,n){e.preventDefault(),n().then((function(e){var n=e.data;console.log("token : ",n.signUp.token),localStorage.setItem("token",n.signUp.token)}))},e.validateForm=function(){var n=e.state,t=n.username,a=n.email,r=n.password,o=n.rePassword,l=t&&a&&r&&r===o;return console.log(l),l},e}return Object(S.a)(t,[{key:"render",value:function(){var e=this,n=this.state,t=n.username,a=n.email,o=n.password,l=n.rePassword;return r.a.createElement("div",null,r.a.createElement("h2",null,"Create New Account"),r.a.createElement(c.a,{mutation:b,variables:{username:t,email:a,password:o}},(function(n,u){u.data;var s=u.loading,c=u.error;return r.a.createElement("form",{className:"form",onSubmit:function(t){return e.formSubmit(t,n)}},r.a.createElement("input",{onChange:e.formChange,value:t,type:"text",name:"username",placeholder:"Username"}),r.a.createElement("input",{onChange:e.formChange,value:a,type:"email",name:"email",placeholder:"Email Address"}),r.a.createElement("input",{onChange:e.formChange,value:o,type:"password",name:"password",placeholder:"Password"}),r.a.createElement("input",{onChange:e.formChange,value:l,type:"password",name:"rePassword",placeholder:"Confirm Password"}),c&&c.message,s&&r.a.createElement("p",null,"Loading..."),r.a.createElement("input",{disabled:s||!e.validateForm(),onChange:e.formChange,type:"submit",className:"button-primary",value:"Submit"}))})))}}]),t}(a.Component),U=function(e){Object(j.a)(t,e);var n=Object(k.a)(t);function t(){var e;Object(y.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).state={username:"",password:""},e.formChange=function(n){var t=n.target;e.setState(Object(C.a)({},t.name,t.value))},e.formSubmit=function(e,n){e.preventDefault(),n().then((function(e){var n=e.data;console.log("token : ",n.signIn.token),localStorage.setItem("token",n.signIn.token)}))},e.validateForm=function(){var n=e.state,t=n.username,a=n.password;return t&&a},e}return Object(S.a)(t,[{key:"render",value:function(){var e=this,n=this.state,t=n.username,a=n.password;return r.a.createElement("div",null,r.a.createElement("h2",null,"Signin to Your Account"),r.a.createElement(c.a,{mutation:E,variables:{username:t,password:a}},(function(n,o){var l=o.data,u=o.loading,s=o.error,c="";return s&&(c=s.message),r.a.createElement("form",{className:"form",onSubmit:function(t){return e.formSubmit(t,n)}},r.a.createElement("input",{onChange:e.formChange,value:t,type:"text",name:"username",placeholder:"Username"}),r.a.createElement("input",{onChange:e.formChange,value:a,type:"password",name:"password",placeholder:"Password"}),r.a.createElement("p",null,c),u&&r.a.createElement("p",null,"Loading..."),l?r.a.createElement("p",null,"data..."):"",r.a.createElement("input",{disabled:u||!e.validateForm(),onChange:e.formChange,type:"submit",className:"button-primary",value:"Submit"}))})))}}]),t}(a.Component),$=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(u.a,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",exact:!0,component:w}),r.a.createElement(s.b,{path:"/signup",component:O}),r.a.createElement(s.b,{path:"/signin",component:U}),r.a.createElement(s.a,{to:"/"}))))},A=t(6),I=new m.a({uri:"http://localhost:4567/graphql",fetchOptions:{credentials:"include"},request:function(e){var n=localStorage.getItem("token");e.setContext({headers:{authorization:n}})},onError:function(e){var n=e.networkError;n&&console.log("network Error from App.js"),n&&401===n.statusCode&&(localStorage.removeItem("token"),console.log("You need to signin again!"))}});l.a.render(r.a.createElement(A.a,{client:I},r.a.createElement(r.a.StrictMode,null,r.a.createElement($,null))),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.47dc5dab.chunk.js.map